URL Shortener
=============

A Symfony project created on August 22, 2017, 3:39 pm.

Приложение состоит из единственного контроллера **DefaultController**.
Работа с базой данных осуществляется через Doctrine ORM: структура описывается в файле **src/AppBundle/Entity/ShortUrl.php**,
дополнительные вспомогательные методы вынесены в репозиторий **src/AppBundle/Repository/ShortUrlRepository.php**.
Структура формы ввода данных представлена в **src/AppBundle/Form/ShortUrlType.php**

Валидация полей формы осуществляется стандартными методами фреймворка Symfony 3. Так проверяется, что поле ввода исходного url 
не пустое и указанная строка является именно строкой url, а длина пользовательского заголовка короткого url не превышает 100 символов.
Проверка исходного url на доступность сервера сделана через расширение группы валидаторов Symfony. Добавлен валидатор **ContainsUrlVerify**,
который выполняет curl-запрос на переданный адрес сайта и проверяет HTTP-ответ.

Короткий url представляет строку вида: **http://domainame/uEE70h**, где код **uEE70h** генерируется на основе ID записи строки БД 
в которой хранится значение исходного url, самого кода и даты создания записи. По дате создания через Cron можно очищать значения старше 15 дней.

Пользователь может указать только один исходный url, из которого требуется получить более короткий вариант, а может и сам
написать кодовую часть короткого url (при этом введенный параметр дополнительно проверяется на существование в БД).

При выполнении операций конвертирования исходного url в короткий приложение логгирует особо важные участки своей работы.